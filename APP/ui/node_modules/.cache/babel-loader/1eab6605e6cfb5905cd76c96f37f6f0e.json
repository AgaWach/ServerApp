{"ast":null,"code":"import _regeneratorRuntime from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/helena/Desktop/ServerApp/APP/ui/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/helena/Desktop/ServerApp/APP/ui/src/components/ServersTable.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport Table from \"@material-ui/core/Table\";\n\nvar ServersTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServersTable, _Component);\n\n  function ServersTable(props) {\n    var _this;\n\n    _classCallCheck(this, ServersTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServersTable).call(this, props));\n    _this.state = {\n      displayMenu: false,\n      chosenServerId: '',\n      servers: []\n    };\n    _this.showDropdownMenu = _this.showDropdownMenu.bind(_assertThisInitialized(_this));\n    _this.hideDropdownMenu = _this.hideDropdownMenu.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ServersTable, [{\n    key: \"turn\",\n    value: function () {\n      var _turn = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(serverId, action) {\n        var result, serverIndex, server;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  servers: this.props.servers\n                });\n                _context.next = 3;\n                return axios.put(\"http://localhost:4454/servers/\".concat(serverId, \"/\").concat(action));\n\n              case 3:\n                result = _context.sent;\n                console.log({\n                  result: result\n                });\n\n                if (result.status === 200) {\n                  serverIndex = this.props.servers.findIndex(function (x) {\n                    return x.id === result.data.id;\n                  });\n\n                  if (serverIndex > -1) {\n                    if (result.data.status === 'REBOOTING') {\n                      server = {};\n                      server = this.rebooting(serverId, server);\n                      console.log({\n                        server: server\n                      });\n                    }\n\n                    this.props.servers[serverIndex].status = result.data.status;\n                    this.setState({\n                      servers: this.props.servers\n                    });\n                  }\n                } else if (result.status === 400) {\n                  console.log(\"Error\");\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function turn(_x, _x2) {\n        return _turn.apply(this, arguments);\n      }\n\n      return turn;\n    }()\n  }, {\n    key: \"rebooting\",\n    value: function () {\n      var _rebooting = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(serverId, server) {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!server) {\n                  setInterval(\n                  /*#__PURE__*/\n                  _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee2() {\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return axios.get(\"http://localhost:4454/servers/\".concat(serverId, \"/\"));\n\n                          case 2:\n                            server = _context2.sent;\n                            console.log(server);\n\n                            if (!(server.data.status === 'REBOOTING')) {\n                              _context2.next = 9;\n                              break;\n                            }\n\n                            _context2.next = 7;\n                            return _this2.rebooting(serverId, server);\n\n                          case 7:\n                            _context2.next = 11;\n                            break;\n\n                          case 9:\n                            if (!(server.data.status === 'ONLINE')) {\n                              _context2.next = 11;\n                              break;\n                            }\n\n                            return _context2.abrupt(\"return\", server);\n\n                          case 11:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  })), 1000);\n                }\n\n                setInterval(\n                /*#__PURE__*/\n                _asyncToGenerator(\n                /*#__PURE__*/\n                _regeneratorRuntime.mark(function _callee3() {\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _context3.next = 2;\n                          return axios.get(\"http://localhost:4454/servers/\".concat(serverId, \"/\"));\n\n                        case 2:\n                          server = _context3.sent;\n                          console.log(server);\n\n                          if (!(server.data.status === 'REBOOTING')) {\n                            _context3.next = 9;\n                            break;\n                          }\n\n                          _context3.next = 7;\n                          return _this2.rebooting(serverId, server);\n\n                        case 7:\n                          _context3.next = 10;\n                          break;\n\n                        case 9:\n                          return _context3.abrupt(\"return\", server);\n\n                        case 10:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3);\n                })), 1000);\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function rebooting(_x3, _x4) {\n        return _rebooting.apply(this, arguments);\n      }\n\n      return rebooting;\n    }()\n  }, {\n    key: \"showDropdownMenu\",\n    value: function showDropdownMenu(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      this.setState({\n        displayMenu: true\n      }, function () {\n        document.addEventListener('click', _this3.hideDropdownMenu);\n      });\n    }\n  }, {\n    key: \"hideDropdownMenu\",\n    value: function hideDropdownMenu() {\n      var _this4 = this;\n\n      this.setState({\n        displayMenu: false\n      }, function () {\n        document.removeEventListener('click', _this4.hideDropdownMenu);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"NAME\"), React.createElement(TableCell, {\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"STATUS\"), React.createElement(TableCell, {\n        align: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.props.servers.map(function (server) {\n        return React.createElement(TableRow, {\n          key: server.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          component: \"th\",\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, server.name), React.createElement(TableCell, {\n          align: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, server.status), React.createElement(TableCell, {\n          align: \"right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, server.status === 'ONLINE' ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"Button_Off\",\n          onClick: function onClick() {\n            return _this5.turn(server.id, 'off');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, \"Turn off\"), React.createElement(Button, {\n          className: \"Button_Reboot\",\n          onClick: function onClick() {\n            return _this5.turn(server.id, 'reboot');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Reboot\"))) : null, server.status === 'OFFLINE' ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(Button, {\n          class: \"Button_On\",\n          onClick: function onClick() {\n            return _this5.turn(server.id, 'on');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Turn on\"), React.createElement(Button, {\n          className: \"Button_Reboot\",\n          onClick: function onClick() {\n            return _this5.turn(server.id, 'reboot');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, \"Reboot\")) : null));\n      }))));\n    }\n  }]);\n\n  return ServersTable;\n}(Component);\n\nexport default ServersTable;","map":{"version":3,"sources":["/Users/helena/Desktop/ServerApp/APP/ui/src/components/ServersTable.js"],"names":["React","Component","axios","Paper","Button","TableCell","TableRow","TableBody","TableHead","Table","ServersTable","props","state","displayMenu","chosenServerId","servers","showDropdownMenu","bind","hideDropdownMenu","serverId","action","setState","put","result","console","log","status","serverIndex","findIndex","x","id","data","server","rebooting","setInterval","get","event","preventDefault","document","addEventListener","removeEventListener","map","name","turn"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from \"axios\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport Table from \"@material-ui/core/Table\";\n\nclass ServersTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayMenu: false,\n            chosenServerId: '',\n            servers: [],\n        };\n        this.showDropdownMenu = this.showDropdownMenu.bind(this);\n        this.hideDropdownMenu = this.hideDropdownMenu.bind(this);\n    };\n\n    async turn(serverId, action) {\n        this.setState({\n            servers: this.props.servers,\n        });\n        const result = await axios.put(`http://localhost:4454/servers/${serverId}/${action}`);\n        console.log({result});\n        if (result.status === 200) {\n            const serverIndex = this.props.servers.findIndex(x => x.id === result.data.id);\n            if (serverIndex > -1) {\n                if (result.data.status === 'REBOOTING') {\n                    let server = {};\n                    server = this.rebooting(serverId, server);\n                    console.log({server});\n                }\n                this.props.servers[serverIndex].status = result.data.status;\n                this.setState({\n                    servers: this.props.servers,\n                });\n            }\n        } else if (result.status === 400) {\n            console.log(\"Error\")\n        }\n    }\n\n    async rebooting(serverId, server) {\n        if (!server) {\n            setInterval(async () => {\n                server = await axios.get(`http://localhost:4454/servers/${serverId}/`);\n                console.log(server);\n                if (server.data.status === 'REBOOTING') {\n                    await this.rebooting(serverId, server)\n                } else if (server.data.status === 'ONLINE') {\n                    return server;\n                }\n            }, 1000);\n        }\n        setInterval(async () => {\n            server = await axios.get(`http://localhost:4454/servers/${serverId}/`);\n            console.log(server);\n            if (server.data.status === 'REBOOTING') {\n                await this.rebooting(serverId, server)\n            } else {\n                return server;\n            }\n        }, 1000);\n    }\n\n    showDropdownMenu(event) {\n        event.preventDefault();\n        this.setState({\n            displayMenu: true,\n        }, () => {\n            document.addEventListener('click', this.hideDropdownMenu);\n        });\n    }\n\n\n    hideDropdownMenu() {\n        this.setState({displayMenu: false}, () => {\n            document.removeEventListener('click', this.hideDropdownMenu);\n        });\n    }\n\n    render() {\n        return (\n            <Paper>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>NAME</TableCell>\n                            <TableCell align=\"left\">STATUS</TableCell>\n                            <TableCell align=\"right\"></TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {this.props.servers.map(server => (\n                            <TableRow key={server.name}>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {server.name}\n                                </TableCell>\n                                <TableCell align=\"left\">{server.status}</TableCell>\n                                <TableCell align=\"right\">\n                                        {\n                                            server.status === 'ONLINE' ? (\n                                                <div>\n                                                    <div>\n                                                        <Button className=\"Button_Off\"\n                                                        onClick={() => this.turn(server.id, 'off')}>\n                                                          Turn off\n                                                            </Button>\n                                                        <Button className =\"Button_Reboot\"\n                                                            onClick={() => this.turn(server.id, 'reboot')}>Reboot</Button>\n                                                    </div>\n                                                </div>\n                                            ) : (\n                                                null\n                                            )\n                                        }\n                                        {\n                                            server.status === 'OFFLINE' ? (\n                                                <div>\n                                                    <Button class=\"Button_On\"\n                                                    onClick={() => this.turn(server.id, 'on')}>\n                                                      Turn on\n                                                    </Button>\n                                                    <Button className=\"Button_Reboot\"\n                                                        onClick={() => this.turn(server.id, 'reboot')}>\n                                                      Reboot\n                                                    </Button>\n                                                </div>\n                                            ) : (\n                                                null\n                                            )\n                                        }\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </Paper>\n        );\n    }\n}\n\nexport default ServersTable;\n"]},"metadata":{},"sourceType":"module"}